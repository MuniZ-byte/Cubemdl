cubes:
- name: order_payments
  sql_table: ecommerce.order_payments
  description: This data cube represents payment details for orders in an ecommerce
    platform, including payment method, installment information, and payment values,
    enabling analysis of payment trends and customer behavior.
  measures:
  - name: count
    type: count
    description: count → "Total number of records in the order payments table"
  - name: count_distinct
    sql: order_id
    type: count_distinct
    description: count_distinct_order_id → "Total unique order IDs in payments table"
  - name: sum_payment_installments
    sql: payment_installments
    type: sum
    description: '"Total number of payment installments made for orders."'
  - name: avg_payment_installments
    sql: payment_installments
    type: avg
    description: Average number of payment installments made per order.
  - name: min_payment_installments
    sql: payment_installments
    type: min
    description: 'min_payment_installments: "Minimum number of payment installments
      made per order."'
  - name: max_payment_installments
    sql: payment_installments
    type: max
    description: '"Maximum number of payment installments per order."'
  - name: sum_payment_value
    sql: payment_value
    type: sum
    description: '"Total value of payments made for orders"'
    format: currency
  - name: avg_payment_value
    sql: payment_value
    type: avg
    description: Average value of payments made for orders in the default domain.
    format: currency
  - name: min_payment_value
    sql: payment_value
    type: min
    description: 'min_payment_value: "Minimum payment amount made for orders."'
    format: currency
  - name: max_payment_value
    sql: payment_value
    type: max
    description: max_payment_value → "Highest payment amount made in orders"
    format: currency
  dimensions:
  - name: order_id
    sql: order_id
    type: string
    description: '"Identifier for each order placed"'
    primary_key: true
  - name: payment_sequential
    sql: payment_sequential
    type: number
    description: Payment sequence number for each order.
    primary_key: true
  - name: payment_type
    sql: payment_type
    type: string
    description: Type of payment method used for an order.
  - name: payment_installments
    sql: payment_installments
    type: number
    description: '"Number of payment installments for an order"'
  - name: payment_value
    sql: payment_value
    type: number
    description: Payment amount for an order.
  joins:
  - name: orders
    relationship: many_to_one
    sql: '{CUBE}.order_id = {orders.order_id}'
